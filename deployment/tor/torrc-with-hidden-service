# Tor configuration for gethrelay with P2P hidden service
# Used for tor-only and prefer-tor instances

# SOCKS5 proxy on port 9050
SocksPort 0.0.0.0:9050

# Control port for hidden service management
ControlPort 9051

# Cookie authentication
CookieAuthentication 1
CookieAuthFile /var/lib/tor/control_auth_cookie
CookieAuthFileGroupReadable 1

# Data directory
DataDirectory /var/lib/tor
DataDirectoryGroupReadable 1
CacheDirectoryGroupReadable 1

# Hidden service configuration for P2P port
# This creates a persistent .onion address for the gethrelay P2P service
HiddenServiceDir /var/lib/tor/hidden_service
HiddenServicePort 30303 127.0.0.1:30303

# Logging
Log notice stdout

# Performance tuning
MaxCircuitDirtiness 60
CircuitBuildTimeout 30
